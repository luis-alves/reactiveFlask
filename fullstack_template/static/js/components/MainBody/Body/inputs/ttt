index.js

import React from 'react';
import ReactDOM from "react-dom";


import Row from './Row';



// Data retrieved from server
var data = [
  { date: "20/12/2036" ,
    animal: "girafe",
    name: "John",
    age: 14 },
  {
    date: "20/08/2025",
    animal: "lion",
    name: "Su",
    age: 12
  },
  {
    date: "20/02/2014",
    animal: "wolf",
    name: "Hellen",
    age: 17
  },
  {
    date: "20/02/1852",
    animal: "goat",
    name: "Alex",
    age: 52
  },
]


export default class App extends React.Component {
  constructor(props) {
    super(props);
    //this.handleChange = this.handleChange.bind(this)
    this.handleClick = this.handleClick.bind(this);
    this.state = {
      rows: {}
    };
  }

  handleClick(rowId) {
    //const { rows } = this.state;
    this.setState({
      rows: {
        //...rows,
        [rowId]: true
      }
    });
  }

  render() {
    const { rows } = this.state;
    return data.map((row, index) => {
      const isEditable = rows[index];
      console.log(data)
      return (
        <Row
          row={row}
          handleClick={this.handleClick}
          rowId={index}
          isEditable={isEditable}
        />
      );
    });
  }
}


ReactDOM.render(<App />, document.getElementById('root'));

row.js
import React from "react"

import InputData from "./InputData"
import DataOutput from "./DataOutput"

class Row extends React.Component {
  onClick = () => {
    const { handleClick, rowId } = this.props;
    handleClick(rowId);
  };

  render() {
    const { row, isEditable } = this.props;
    const ComponentToRender = isEditable ? (
      <InputData row={row} />
    ) : (
        <DataOutput row={row} onclick={this.onClick} />
      );

    return ComponentToRender;
  }
}

export default Row

dataoutput

import React from 'react';

const styles = {
  fontFamily: 'sans-serif',
  textAlign: 'center',
  border: 'solid black 1px',
  padding: '0 10px',
  color: 'red',
};

const DataOutput = props =>
  <div onClick={props.onclick}>
    <i className='date' style={styles}>{props.row.date}</i>
    <i className='animal' style={styles}>{props.row.animal}</i>
    <i className='name' style={styles}>{props.row.name}</i>
  </div>

export default DataOutput

InputData
import React from "react";
import Datepicker from "react-datepicker";

require('react-datepicker/dist/react-datepicker.min.css');

var moment = require('moment')

export default class InputData extends React.Component {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this)
    this.handleSubmit = this.handleSubmit.bind(this)
    this.state = { startDate: moment(this.props.row.date, "DD/MM/YYYY")}
  }

  handleChange(date) {
    this.setState({
      startDate: date
    });
  }

  handleSubmit () {
    console.log('Connect to server...Done')
  }

  render() {
    return (
      <div>
        <form onSubmit={this.handleSubmit}>
          <Datepicker
            selected={this.state.startDate}
            onChange={this.handleChange} />
          <input type="text" name="animal" />
          <input type="text" name="name" />
          <div>
          <input type="submit" value="Submit" />
          </div>
        </form>
      </div>
    )
  }


}
